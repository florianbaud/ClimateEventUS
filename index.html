<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Groupe 42</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" type="text/javascript;charset=utf-8"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

    <script src="https://code.jquery.com/jquery-2.1.3.min.js" type="text/javascript"></script>
    <script src="https://d3js.org/d3.v3.min.js" type="text/javascript"></script>
    <script>d3v3 = d3; window.d3 = null;</script>
    <script src="https://d3js.org/d3.v4.min.js" type="text/javascript"></script>
    <script src='../lib/d3.cloud.layout.js' type="text/javascript"></script>
    <script src="https://d3js.org/d3-color.v1.min.js"></script>
    <script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="./js/linechart.js" type="text/javascript"></script>
    <script src="./js/map.js" type="text/javascript"></script>
    <script src="./js/wordcloud.js" type="text/javascript"></script>
    <script src="./js/heatmap.js" type="text/javascript"></script>
</head>

<body id='body'>

    <div class="jumbotron jumbotron bg-cover">
        <div class="overlay"></div>
        <div class="container">
            <h1 class="display-3 mb-1">Climate events in the United States in 2017</h1>
            <p class="lead"><span>By Group 42</span></p>
        </div>
    </div>

    <div class="container-fluid" id='main'>
        <div class="row">
            <div class="col-md-12">
                <h1 class='text-center' id='title'>Impact of climate events on the price of home insurance in the
                    United States</h1>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="d-flex justify-content-center">
            <div class="col-md-10 mb-5">
                <p class="text-justify">In the USA, recent studies show that average home insurance rates have risen in
                    the last decade. In most common home insurance policy, insurance company will repair or replace
                    home and stuff if they’re stolen, damaged, or destroyed by Lightning, fire, hail, hurricane or any
                    disaster listed in the homeowner’s policy. Moreover, a study by the National Centers for
                    Environmental Information found that 2017 was by far the most expensive year for disasters in
                    America with damages exceeding $300 billion. That’s why we chose to visualize on a geo map the
                    financial damage of each natural disaster in order to discover which states are the most impacted
                    by climate events. On another side, we represented the price of home insurance for each state. The
                    bigger home insurance price is, the bigger the name of the state.</p>
            </div>
        </div>
    </div>

    <div class="container-fluid mb-5">
        <div class="row">
            <div class="col-md-7">
                <div class="row-md-1">
                    <form class="form-inline justify-content-center">
                        <div class="form-group mx-sm mt">
                            <label class="mr-sm-2" for="events">Choose event :</label>
                            <select class="form-control" id="events">
                            </select>
                        </div>
                    </form>
                </div>
                <div class="row-md-10" id="map"></div>
                <div class="d-flex justify-content-center">
                    <div class="col-md-6" id="legend2"></div>
                </div>
            </div>
            <div class="col-md-5">
                <div class="row-md-1">
                    <h3 class="text-center">Home insurance prices</h3>
                </div>
                <div class="row-md-11" id="wordcloud"></div>
            </div>
        </div>
    </div>

    <div class="container-fluid mb-5">
        <div class="d-flex justify-content-center">
            <div class="col-md-10">
                <p class="text-justify">We can easily see the correlation between natural disasters and home insurance
                    prices. We have one exception, California. California is the second-most natural disaster prone
                    state in America just after Oklahoma. But home insurance companies doesn’t cover the majority of
                    natural disasters. To be covered, you need to buy a separate policy. That’s why, California is one
                    of the states with the lower home insurance prices. In contrary, we can see that Texas, and
                    Oklahoma are often facing natural disasters and are part of the states with the higher home
                    insurance.</p>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <h3 class='text-center'>Number of occurences of each type of events throughout the year 2017</h3>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="d-flex justify-content-center">
            <div class="col-md-10">
                <p class="text-justify">2017 was the most expensive year for disasters in America. That’s why we chose
                    to represent the number of occurrence for each climate event with a heat map. We can easily
                    determine which events are the most frequent : thunderstorm wind and hail. Moreover, we observe the
                    impact of seasons on the different events. Some happens only during cold months and other during
                    hot months. For example, High Wind happens during cold months and Heavy Rain during hot months.</p>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12" id="heatmap"></div>
        </div>
    </div>

    <div class="container-fluid mb-5">
        <div class="d-flex justify-content-center">
            <div class="col-md-4" id="legend1"></div>
        </div>
    </div>

    <div class="row" id="footer">
        <div class="col-lg-12">Toure Cheikh, Vendeville Antoine, Degni Rhizlaine, Baud Florian - All rights reserved</div>
    </div>

    <script>
        var form = d3v3.select('#events');
        d3v3.json('./data/events.json', function (err, data) {
            form.selectAll('option')
                .data(data)
                .enter()
                .append('option')
                .attr('value', function (d) {
                    return d.name;
                })
                .text(function (d) {
                    return d.name;
                });
        });
        mapchart();
        wordcloud();
        heatmap();
    </script>
</body>

</html>